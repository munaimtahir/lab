# ==============================================================================
# Al Shifa LIMS - Environment Configuration
# ==============================================================================
# This file provides examples of environment variables for the LIMS application.
# Copy this file to .env and update values for your deployment scenario.
# ==============================================================================

# Django Configuration
# ==============================================================================
DJANGO_SECRET_KEY=change-me-in-production
DJANGO_DEBUG=False
# Comma-separated list of allowed hosts (production: only VPS IP)
DJANGO_ALLOWED_HOSTS=172.235.33.181

# Database Configuration
# ==============================================================================
POSTGRES_HOST=db
POSTGRES_PORT=5432
POSTGRES_DB=lims
POSTGRES_USER=lims
POSTGRES_PASSWORD=change-me-in-production

# Redis Configuration
# ==============================================================================
REDIS_URL=redis://redis:6379/0

# API Configuration
# ==============================================================================
# Internal API URL (used by Docker services to communicate)
API_BASE_URL=http://backend:8000

# Frontend API Configuration
# ==============================================================================
# For production VPS deployment with Nginx (frontend served at http://172.235.33.181)
# Use relative path since nginx proxies /api/ to backend:8000
VITE_API_URL=/api

# Backend CORS & CSRF Configuration
# ==============================================================================
# Comma-separated list of origins allowed to make requests to the backend
# Production: only VPS IP on standard HTTP port
ALLOWED_HOSTS=172.235.33.181
CORS_ALLOWED_ORIGINS=http://172.235.33.181,http://172.235.33.181:80
CSRF_TRUSTED_ORIGINS=http://172.235.33.181,http://172.235.33.181:80

# ==============================================================================
# Security Notes for Production Deployment
# ==============================================================================
# 1. Generate strong passwords and secrets:
#    POSTGRES_PASSWORD=$(openssl rand -base64 32)
#    DJANGO_SECRET_KEY=$(python -c 'from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())')
#
# 2. Set DJANGO_DEBUG=False in production
#
# 3. Update ALLOWED_HOSTS to include only your actual domain/IP
#
# 4. Never commit .env to version control (already in .gitignore)
# ==============================================================================

# ==============================================================================
# Deployment Scenarios
# ==============================================================================
#
# SCENARIO 1: VPS Production Deployment (http://172.235.33.181) - DEFAULT
# ---------------------------------------------------------------------------
# This is the DEFAULT configuration. Copy this file to .env for production.
# Frontend served by nginx on port 80, nginx proxies /api to backend:8000
#
# VITE_API_URL=/api
# ALLOWED_HOSTS=172.235.33.181
# CORS_ALLOWED_ORIGINS=http://172.235.33.181,http://172.235.33.181:80
# CSRF_TRUSTED_ORIGINS=http://172.235.33.181,http://172.235.33.181:80
# DJANGO_DEBUG=False
#
# Expected URLs:
#   Frontend: http://172.235.33.181
#   Backend via nginx: http://172.235.33.181/api
#   Backend direct: http://172.235.33.181:8000 (optional)
#
# SCENARIO 2: Local Development with Docker Compose (see infra/.env.example)
# ---------------------------------------------------------------------------
# Use infra/docker-compose.yml for local development with hot-reload
# Frontend: http://localhost:5173 (Vite dev server)
# Backend: http://localhost:8000 (Django dev server)
#
# VITE_API_URL=http://localhost:8000
# ALLOWED_HOSTS=localhost,127.0.0.1
# CORS_ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3000
# CSRF_TRUSTED_ORIGINS=http://localhost:5173
# DJANGO_DEBUG=True
#
# ==============================================================================
